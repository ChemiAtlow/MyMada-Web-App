(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a656cd2"],{"16d1":function(e,t,s){},"59d7":function(e,t,s){"use strict";var a=s("a910"),n=s.n(a);n.a},a910:function(e,t,s){},b8fa:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"contact-page"},[s("div",{staticClass:"center__page"},[s("div",{staticClass:"container main__container"},[s("div",{on:{click:e.changeName}},[s("md-card",{attrs:{"md-with-hover":""}},[s("md-ripple",[s("md-card-content",[e._v(e._s(e.$t("contact-page.change-name-btn")))])],1)],1)],1),e.retrievedMessages?s("div",{key:e.lastSent},e._l(e.retrievedMessages,(function(t,a){return s("contact-message",{key:a,attrs:{msg:t,name:"admin"===t.sender?e.$t("contact-page.admin"):e.name}})})),1):s("md-empty-state",{attrs:{"md-icon":"chat","md-label":e.$t("contact-page.no-message"),"md-description":e.$t("contact-page.no-message-desc")}}),s("md-snackbar",{attrs:{"md-position":"center","md-duration":3e3,"md-active":e.showSnackbar},on:{"update:mdActive":function(t){e.showSnackbar=t},"update:md-active":function(t){e.showSnackbar=t}}},[s("span",[e._v(e._s(e.sendingStatus))])])],1)]),s("footer",[e.seenMsg?s("b",{staticClass:"seenMsg"},[e._v(e._s(e.seenMsg))]):e._e(),s("div",{staticClass:"container new-msg__container"},[s("div",{staticClass:"new-msg__input"},[s("md-field",{class:e.hasErrors,attrs:{"md-clearable":""}},[s("label",[e._v(e._s(e.$t("contact-page.write-here")))]),s("md-textarea",{attrs:{rows:"3",required:"","md-autogrow":""},model:{value:e.msg,callback:function(t){e.msg=t},expression:"msg"}}),s("span",{staticClass:"md-error"},[e._v(e._s(e.$t("contact-page.msg-required")))])],1)],1),s("div",{staticClass:"new-msg__submit"},[s("app-btn",{directives:[{name:"wave",rawName:"v-wave.light",modifiers:{light:!0}}],attrs:{long:"",disabled:e.sending},on:{click:e.sendMsg}},[e._v(" "+e._s(e.$t("common.send"))+" "),s("i",{staticClass:"material-icons left"},[e._v("send")])])],1)])])])},n=[],i=(s("b0c0"),s("498a"),s("9ab4")),c=s("60a3"),r=s("7606"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message",class:{admin:"admin"===e.msg.sender,whatsapp:e.msg.WhatsApp},on:{click:e.whatsappClick}},[s("span",{staticClass:"message__name"},[e._v(e._s(e.name))]),s("span",{staticClass:"message__time"},[e._v(e._s(e.MillisecondsToHumanDate(e.msg.time)))]),s("span",{staticClass:"message__content"},[e.msg.WhatsApp?s("span",{staticClass:"message__whatsapp icon-whatsapp"}):e._e(),e._v(" "+e._s(e.msg.WhatsApp?e.$t("contact-page.whatsapp"):e.msg.msg)+" ")])])},d=[],m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i["d"])(t,e),t.prototype.MillisecondsToHumanDate=function(e){var t,s,a,n,i,c,r=new Date(e);return t=(t=r.getHours())<10?"0"+t:t,s=(s=r.getMinutes())<10?"0"+s:s,a=(a=r.getSeconds())<10?"0"+a:a,n=(n=r.getDate())<10?"0"+n:n,i=(i=r.getMonth())<10?"0"+i:i,c=r.getFullYear(),t+":"+s+":"+a+" "+n+"/"+i+"/"+c},t.prototype.whatsappClick=function(){if(this.msg.WhatsApp){var e="שלום, אני "+name+" ואני פונה לגבי השיחה שלנו באתר.";window.open("https://wa.me/972557249771?text="+encodeURIComponent(e))}},Object(i["c"])([Object(c["c"])({required:!0})],t.prototype,"msg",void 0),Object(i["c"])([Object(c["c"])({type:String,required:!0})],t.prototype,"name",void 0),t=Object(i["c"])([c["a"]],t),t}(c["d"]),g=m,l=g,p=(s("59d7"),s("2877")),u=Object(p["a"])(l,o,d,!1,null,"0bd8af9e",null),h=u.exports,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sending=!1,t.showSnackbar=!1,t.sendingStatus="",t.msg=null,t.seenMsg="",t.retrievedMessages=null,t}return Object(i["d"])(t,e),Object.defineProperty(t.prototype,"fcmToken",{get:function(){return this.$store.state.user.fcmToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.$store.state.user.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"database",{get:function(){return Object(r["b"])(this.fcmToken)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasErrors",{get:function(){var e;return{"md-invalid":(null===(e=this.msg)||void 0===e?void 0:e.length)<=0}},enumerable:!0,configurable:!0}),t.prototype.mounted=function(){var e=this;this.database.on("value",(function(t){if(t&&t.val()){var s=t.val(),a=s.Name,n=s.SeenByAdmin,c=s.LastSent,r=Object(i["f"])(s,["Name","SeenByAdmin","LastSent"]);if(!a)return;e.lastSent=c,null!=n&&null!=c&&(e.retrievedMessages=r,e.seenMsg=n?e.$t("contact-page.seen"):e.$t("contact-page.not-seen"))}})),this.$store.dispatch("alert/error",{message:this.$t("contact-page.warning-msg"),title:this.$t("contact-page.important-note")})},t.prototype.changeName=function(){this.$store.dispatch("alert/changeName")},t.prototype.sendMsg=function(){var e,t=this;if(this.$store.getters["user/validUserName"])if(!this.msg||this.msg.trim().length<=0)this.msg="";else{this.msg=this.msg.trim(),this.sending=!0;var s={sender:this.fcmToken,msg:this.msg,time:(new Date).getTime()},a=this.database.push().key,n=(e={LastSent:(new Date).getTime(),SeenByAdmin:!1,Name:this.name},e[null!==a&&void 0!==a?a:""]=s,e);this.database.update(n,(function(e){t.sending=!1,e?t.sendingStatus=t.$t("contact-page.send.error"):(t.msg=null,t.sendingStatus=t.$t("contact-page.send.success")),t.showSnackbar=!0}))}else this.$store.dispatch("alert/changeName")},t=Object(i["c"])([Object(c["a"])({components:{ContactMessage:h}})],t),t}(c["d"]),v=f,b=v,_=(s("fdda"),Object(p["a"])(b,a,n,!1,null,"3d845756",null));t["default"]=_.exports},fdda:function(e,t,s){"use strict";var a=s("16d1"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-1a656cd2.14ba1930.js.map